{"ast":null,"code":"var _s = $RefreshSig$();\nimport classNames from \"classnames\";\nimport { useState } from \"react\";\nimport { EditPackagePopup } from \"../EditPackagePopup/EditPackagePopup\";\nimport styles from \"./styles.module.css\";\nimport { useSelector } from \"react-redux\";\nimport { selectObjectById } from \"../../store/Objects/selectors\";\nimport geoIcon from \"./images/geo.svg\";\nimport partnerIcon from \"./images/partner.svg\";\nimport phoneIcon from \"./images/phone.svg\";\nimport timerIcon from \"./images/timer.svg\";\nimport endtimerIcon from \"./images/endtimer.svg\";\nexport const Object = _ref => {\n  _s();\n  let {\n    toggleObject,\n    id\n  } = _ref;\n  const [isPopupOpened, setIsPopupOpened] = useState(false);\n  const objectData = useSelector(state => selectObjectById(state, {\n    id\n  }));\n  const togglePopup = () => {\n    setIsPopupOpened(!isPopupOpened);\n  };\n  const getDiffDates = () => {\n    const diff = objectData.ENDDT && objectData.STARTDT ? new Date(new Date(objectData.ENDDT.substr(0, objectData.ENDDT.indexOf(\"T\")))) - new Date(objectData.STARTDT.substr(0, objectData.STARTDT.indexOf(\"T\"))) : 0;\n    const days = diff / 86400000;\n    let months = Math.floor(days / 30);\n    let leftDays = Math.floor(days / 30 - months);\n    if (leftDays[-1] == 1) {\n      leftDays += \" День\";\n    } else if (2 <= leftDays[-1] <= 4) {\n      leftDays += \" Дня\";\n    } else {\n      leftDays += \" Дней\";\n    }\n    if (months <= 1) {\n      months += \" Месяц\";\n    } else if (2 <= months && months <= 4) {\n      months += \" Месяца\";\n    } else {\n      months += \" Месяцев\";\n    }\n    return {\n      months,\n      leftDays\n    };\n  };\n  const leftTime = getDiffDates();\n\n  // return (\n  //   <div className={styles.objects}>\n  //     <div className={classNames(styles.info, styles.objects_element)}>\n  //       <div className={styles.info_element}>\n  //         <h2 className={styles.title}>Название</h2>\n  //         <p className={styles.object_name}>{objectData.NAME}</p>\n  //       </div>\n  //       <div className={styles.info_element}>\n  //         <h2 className={styles.title}>Дата создания</h2>\n  //         <p className={styles.content}>\n  //           {objectData.DT.substr(0, objectData.DT.indexOf(\"T\"))}\n  //         </p>\n  //       </div>\n  //       <div className={styles.info_element}>\n  //         <h2 className={styles.title}>Специалист</h2>\n  //         <p className={styles.content}>{objectData.WORKER}</p>\n  //       </div>\n  //     </div>\n  //     <div className={classNames(styles.info, styles.objects_element)}>\n  //       <div className={styles.info_element}>\n  //         <img src={geoIcon} alt={geoIcon} className={styles.icon}></img>\n  //         <h2 className={styles.title}>Город/Страна</h2>\n  //         <p className={styles.content}>{objectData.CITY}</p>\n  //       </div>\n  //       <div className={styles.info_element}>\n  //         <img\n  //           src={partnerIcon}\n  //           alt={partnerIcon}\n  //           className={styles.icon}\n  //         ></img>\n  //         <h2 className={styles.title}>Партнер</h2>\n  //         <p className={styles.content}>UM System Group</p>\n  //       </div>\n  //       <div className={styles.info_element}>\n  //         <img src={phoneIcon} alt={phoneIcon} className={styles.icon}></img>\n  //         <h2 className={styles.title}>Телефон</h2>\n  //         <p className={styles.content}>{objectData.PHONE}</p>\n  //       </div>\n  //     </div>\n  //     <div className={classNames(styles.object_info, styles.objects_element)}>\n  //       <div className={styles.info_element}>\n  //         <h2 className={styles.title}>Пакет</h2>\n  //         <p className={styles.object_name}>{objectData.PAKET}</p>\n  //       </div>\n  //       <div className={styles.object_radios}>\n  //         <div class={styles.object_radio}>\n  //           <h2 className={styles.title}>Front</h2>\n  //           <div className={styles.radio_indicator}>2</div>\n  //         </div>\n  //         <div className={styles.object_radio}>\n  //           <h2 className={styles.title}>Тарификация</h2>\n  //           <div\n  //             className={classNames(styles.radio_indicator, {\n  //               [styles.radio_indicator__active]: objectData.TARIF,\n  //             })}\n  //           ></div>\n  //         </div>\n  //         <div class={styles.object_radio}>\n  //           <h2 className={styles.title}>Мобильный</h2>\n  //           <div\n  //             className={classNames(styles.radio_indicator, {\n  //               [styles.radio_indicator__active]: objectData.MOB,\n  //             })}\n  //           ></div>\n  //         </div>\n  //         <div class={styles.object_radio}>\n  //           <h2 className={styles.title}>QR</h2>\n  //           <div\n  //             className={classNames(styles.radio_indicator, {\n  //               [styles.radio_indicator__active]: objectData.QR,\n  //             })}\n  //           ></div>\n  //         </div>\n  //       </div>\n  //       <button\n  //         type=\"button\"\n  //         className={classNames(styles.button, styles.button_edit)}\n  //         onClick={() => togglePopup()}\n  //       >\n  //         Редактировать пакет\n  //       </button>\n  //     </div>\n  //     <div className={classNames(styles.info, styles.objects_element)}>\n  //       <div className={styles.info_element}>\n  //         <img src={timerIcon} alt={timerIcon} className={styles.icon}></img>\n  //         <h2 className={styles.title}>Начало</h2>\n  //         <p className={styles.content}>\n  //           {objectData.STARTDT.substr(0, objectData.STARTDT.indexOf(\"T\"))}\n  //         </p>\n  //       </div>\n  //       <div className={styles.info_element}>\n  //         <img\n  //           src={endtimerIcon}\n  //           alt={endtimerIcon}\n  //           className={styles.icon}\n  //         ></img>\n  //         <h2 className={styles.title}>Конец</h2>\n  //         <p className={styles.content}>\n  //           {objectData.ENDDT.substr(0, objectData.ENDDT.indexOf(\"T\"))}\n  //         </p>\n  //       </div>\n  //       <div className={styles.info_element}>\n  //         <img src={timerIcon} alt={timerIcon} className={styles.icon}></img>\n  //         <h2 className={styles.title}>Осталось</h2>\n  //         <p className={styles.content}>\n  //           {leftTime.months\n  //             ? leftTime.months\n  //             : \"\" + leftTime.leftDays\n  //             ? \", \" + leftTime.leftDays\n  //             : \"\"}\n  //         </p>\n  //       </div>\n  //     </div>\n  //     <div className={classNames(styles.status, styles.objects_element)}>\n  //       <div className={styles.status_element}>\n  //         <h2 className={styles.title}>Статус</h2>\n  //         <div className={styles.status_info}>Активен</div>\n  //       </div>\n  //       <div className={styles.status_element}>\n  //         <h2 className={styles.title}>Сумма</h2>\n  //         <div className={styles.status_info}>{objectData.AMOUNT}</div>\n  //       </div>\n  //     </div>\n\n  //     <button\n  //         type=\"button\"\n  //         className={classNames(styles.button, styles.button_exit)}\n  //         onClick={() => toggleObject()}\n  //       >Назад</button>\n  //     {isPopupOpened && <EditPackagePopup togglePopup={togglePopup} />}\n  //   </div>\n  // );\n};\n_s(Object, \"Gv2FhaDRwPey7E5v3Ekl+zJaOpQ=\", false, function () {\n  return [useSelector];\n});\n_c = Object;\nvar _c;\n$RefreshReg$(_c, \"Object\");","map":{"version":3,"names":["classNames","useState","EditPackagePopup","styles","useSelector","selectObjectById","geoIcon","partnerIcon","phoneIcon","timerIcon","endtimerIcon","Object","toggleObject","id","isPopupOpened","setIsPopupOpened","objectData","state","togglePopup","getDiffDates","diff","ENDDT","STARTDT","Date","substr","indexOf","days","months","Math","floor","leftDays","leftTime"],"sources":["C:/Development/11312/client/src/Components/Object/Object.jsx"],"sourcesContent":["import classNames from \"classnames\";\r\nimport { useState } from \"react\";\r\nimport { EditPackagePopup } from \"../EditPackagePopup/EditPackagePopup\";\r\nimport styles from \"./styles.module.css\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { selectObjectById } from \"../../store/Objects/selectors\";\r\nimport geoIcon from \"./images/geo.svg\";\r\nimport partnerIcon from \"./images/partner.svg\";\r\nimport phoneIcon from \"./images/phone.svg\";\r\nimport timerIcon from \"./images/timer.svg\";\r\nimport endtimerIcon from \"./images/endtimer.svg\";\r\n\r\nexport const Object = ({ toggleObject, id }) => {\r\n  const [isPopupOpened, setIsPopupOpened] = useState(false);\r\n  const objectData = useSelector((state) => selectObjectById(state, { id }));\r\n  const togglePopup = () => {\r\n    setIsPopupOpened(!isPopupOpened);\r\n  };\r\n\r\n  const getDiffDates = () => {\r\n    const diff =  objectData.ENDDT && objectData.STARTDT ?\r\n      new Date(\r\n        new Date(objectData.ENDDT.substr(0, objectData.ENDDT.indexOf(\"T\")))\r\n      ) -\r\n      new Date(objectData.STARTDT.substr(0, objectData.STARTDT.indexOf(\"T\"))) : 0;\r\n    const days = diff / 86400000;\r\n    let months = Math.floor(days / 30);\r\n    let leftDays = Math.floor(days / 30 - months);\r\n    if (leftDays[-1] == 1) {\r\n      leftDays += \" День\";\r\n    } else if (2 <= leftDays[-1] <= 4) {\r\n      leftDays += \" Дня\";\r\n    } else {\r\n      leftDays += \" Дней\";\r\n    }\r\n\r\n    if (months <= 1) {\r\n      months += \" Месяц\";\r\n    } else if (2 <= months && months <= 4) {\r\n      months += \" Месяца\";\r\n    } else {\r\n      months += \" Месяцев\";\r\n    }\r\n    return { months, leftDays };\r\n  };\r\n\r\n  const leftTime = getDiffDates();\r\n\r\n  // return (\r\n  //   <div className={styles.objects}>\r\n  //     <div className={classNames(styles.info, styles.objects_element)}>\r\n  //       <div className={styles.info_element}>\r\n  //         <h2 className={styles.title}>Название</h2>\r\n  //         <p className={styles.object_name}>{objectData.NAME}</p>\r\n  //       </div>\r\n  //       <div className={styles.info_element}>\r\n  //         <h2 className={styles.title}>Дата создания</h2>\r\n  //         <p className={styles.content}>\r\n  //           {objectData.DT.substr(0, objectData.DT.indexOf(\"T\"))}\r\n  //         </p>\r\n  //       </div>\r\n  //       <div className={styles.info_element}>\r\n  //         <h2 className={styles.title}>Специалист</h2>\r\n  //         <p className={styles.content}>{objectData.WORKER}</p>\r\n  //       </div>\r\n  //     </div>\r\n  //     <div className={classNames(styles.info, styles.objects_element)}>\r\n  //       <div className={styles.info_element}>\r\n  //         <img src={geoIcon} alt={geoIcon} className={styles.icon}></img>\r\n  //         <h2 className={styles.title}>Город/Страна</h2>\r\n  //         <p className={styles.content}>{objectData.CITY}</p>\r\n  //       </div>\r\n  //       <div className={styles.info_element}>\r\n  //         <img\r\n  //           src={partnerIcon}\r\n  //           alt={partnerIcon}\r\n  //           className={styles.icon}\r\n  //         ></img>\r\n  //         <h2 className={styles.title}>Партнер</h2>\r\n  //         <p className={styles.content}>UM System Group</p>\r\n  //       </div>\r\n  //       <div className={styles.info_element}>\r\n  //         <img src={phoneIcon} alt={phoneIcon} className={styles.icon}></img>\r\n  //         <h2 className={styles.title}>Телефон</h2>\r\n  //         <p className={styles.content}>{objectData.PHONE}</p>\r\n  //       </div>\r\n  //     </div>\r\n  //     <div className={classNames(styles.object_info, styles.objects_element)}>\r\n  //       <div className={styles.info_element}>\r\n  //         <h2 className={styles.title}>Пакет</h2>\r\n  //         <p className={styles.object_name}>{objectData.PAKET}</p>\r\n  //       </div>\r\n  //       <div className={styles.object_radios}>\r\n  //         <div class={styles.object_radio}>\r\n  //           <h2 className={styles.title}>Front</h2>\r\n  //           <div className={styles.radio_indicator}>2</div>\r\n  //         </div>\r\n  //         <div className={styles.object_radio}>\r\n  //           <h2 className={styles.title}>Тарификация</h2>\r\n  //           <div\r\n  //             className={classNames(styles.radio_indicator, {\r\n  //               [styles.radio_indicator__active]: objectData.TARIF,\r\n  //             })}\r\n  //           ></div>\r\n  //         </div>\r\n  //         <div class={styles.object_radio}>\r\n  //           <h2 className={styles.title}>Мобильный</h2>\r\n  //           <div\r\n  //             className={classNames(styles.radio_indicator, {\r\n  //               [styles.radio_indicator__active]: objectData.MOB,\r\n  //             })}\r\n  //           ></div>\r\n  //         </div>\r\n  //         <div class={styles.object_radio}>\r\n  //           <h2 className={styles.title}>QR</h2>\r\n  //           <div\r\n  //             className={classNames(styles.radio_indicator, {\r\n  //               [styles.radio_indicator__active]: objectData.QR,\r\n  //             })}\r\n  //           ></div>\r\n  //         </div>\r\n  //       </div>\r\n  //       <button\r\n  //         type=\"button\"\r\n  //         className={classNames(styles.button, styles.button_edit)}\r\n  //         onClick={() => togglePopup()}\r\n  //       >\r\n  //         Редактировать пакет\r\n  //       </button>\r\n  //     </div>\r\n  //     <div className={classNames(styles.info, styles.objects_element)}>\r\n  //       <div className={styles.info_element}>\r\n  //         <img src={timerIcon} alt={timerIcon} className={styles.icon}></img>\r\n  //         <h2 className={styles.title}>Начало</h2>\r\n  //         <p className={styles.content}>\r\n  //           {objectData.STARTDT.substr(0, objectData.STARTDT.indexOf(\"T\"))}\r\n  //         </p>\r\n  //       </div>\r\n  //       <div className={styles.info_element}>\r\n  //         <img\r\n  //           src={endtimerIcon}\r\n  //           alt={endtimerIcon}\r\n  //           className={styles.icon}\r\n  //         ></img>\r\n  //         <h2 className={styles.title}>Конец</h2>\r\n  //         <p className={styles.content}>\r\n  //           {objectData.ENDDT.substr(0, objectData.ENDDT.indexOf(\"T\"))}\r\n  //         </p>\r\n  //       </div>\r\n  //       <div className={styles.info_element}>\r\n  //         <img src={timerIcon} alt={timerIcon} className={styles.icon}></img>\r\n  //         <h2 className={styles.title}>Осталось</h2>\r\n  //         <p className={styles.content}>\r\n  //           {leftTime.months\r\n  //             ? leftTime.months\r\n  //             : \"\" + leftTime.leftDays\r\n  //             ? \", \" + leftTime.leftDays\r\n  //             : \"\"}\r\n  //         </p>\r\n  //       </div>\r\n  //     </div>\r\n  //     <div className={classNames(styles.status, styles.objects_element)}>\r\n  //       <div className={styles.status_element}>\r\n  //         <h2 className={styles.title}>Статус</h2>\r\n  //         <div className={styles.status_info}>Активен</div>\r\n  //       </div>\r\n  //       <div className={styles.status_element}>\r\n  //         <h2 className={styles.title}>Сумма</h2>\r\n  //         <div className={styles.status_info}>{objectData.AMOUNT}</div>\r\n  //       </div>\r\n  //     </div>\r\n      \r\n  //     <button\r\n  //         type=\"button\"\r\n  //         className={classNames(styles.button, styles.button_exit)}\r\n  //         onClick={() => toggleObject()}\r\n  //       >Назад</button>\r\n  //     {isPopupOpened && <EditPackagePopup togglePopup={togglePopup} />}\r\n  //   </div>\r\n  // );\r\n};\r\n"],"mappings":";AAAA,OAAOA,UAAU,MAAM,YAAY;AACnC,SAASC,QAAQ,QAAQ,OAAO;AAChC,SAASC,gBAAgB,QAAQ,sCAAsC;AACvE,OAAOC,MAAM,MAAM,qBAAqB;AACxC,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,gBAAgB,QAAQ,+BAA+B;AAChE,OAAOC,OAAO,MAAM,kBAAkB;AACtC,OAAOC,WAAW,MAAM,sBAAsB;AAC9C,OAAOC,SAAS,MAAM,oBAAoB;AAC1C,OAAOC,SAAS,MAAM,oBAAoB;AAC1C,OAAOC,YAAY,MAAM,uBAAuB;AAEhD,OAAO,MAAMC,MAAM,GAAG,QAA0B;EAAA;EAAA,IAAzB;IAAEC,YAAY;IAAEC;EAAG,CAAC;EACzC,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAMe,UAAU,GAAGZ,WAAW,CAAEa,KAAK,IAAKZ,gBAAgB,CAACY,KAAK,EAAE;IAAEJ;EAAG,CAAC,CAAC,CAAC;EAC1E,MAAMK,WAAW,GAAG,MAAM;IACxBH,gBAAgB,CAAC,CAACD,aAAa,CAAC;EAClC,CAAC;EAED,MAAMK,YAAY,GAAG,MAAM;IACzB,MAAMC,IAAI,GAAIJ,UAAU,CAACK,KAAK,IAAIL,UAAU,CAACM,OAAO,GAClD,IAAIC,IAAI,CACN,IAAIA,IAAI,CAACP,UAAU,CAACK,KAAK,CAACG,MAAM,CAAC,CAAC,EAAER,UAAU,CAACK,KAAK,CAACI,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CACpE,GACD,IAAIF,IAAI,CAACP,UAAU,CAACM,OAAO,CAACE,MAAM,CAAC,CAAC,EAAER,UAAU,CAACM,OAAO,CAACG,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC;IAC7E,MAAMC,IAAI,GAAGN,IAAI,GAAG,QAAQ;IAC5B,IAAIO,MAAM,GAAGC,IAAI,CAACC,KAAK,CAACH,IAAI,GAAG,EAAE,CAAC;IAClC,IAAII,QAAQ,GAAGF,IAAI,CAACC,KAAK,CAACH,IAAI,GAAG,EAAE,GAAGC,MAAM,CAAC;IAC7C,IAAIG,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE;MACrBA,QAAQ,IAAI,OAAO;IACrB,CAAC,MAAM,IAAI,CAAC,IAAIA,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE;MACjCA,QAAQ,IAAI,MAAM;IACpB,CAAC,MAAM;MACLA,QAAQ,IAAI,OAAO;IACrB;IAEA,IAAIH,MAAM,IAAI,CAAC,EAAE;MACfA,MAAM,IAAI,QAAQ;IACpB,CAAC,MAAM,IAAI,CAAC,IAAIA,MAAM,IAAIA,MAAM,IAAI,CAAC,EAAE;MACrCA,MAAM,IAAI,SAAS;IACrB,CAAC,MAAM;MACLA,MAAM,IAAI,UAAU;IACtB;IACA,OAAO;MAAEA,MAAM;MAAEG;IAAS,CAAC;EAC7B,CAAC;EAED,MAAMC,QAAQ,GAAGZ,YAAY,EAAE;;EAE/B;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACF,CAAC;AAAC,GAxKWR,MAAM;EAAA,QAEEP,WAAW;AAAA;AAAA,KAFnBO,MAAM;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}