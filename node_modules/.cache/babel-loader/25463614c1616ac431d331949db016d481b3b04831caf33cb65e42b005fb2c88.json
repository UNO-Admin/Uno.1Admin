{"ast":null,"code":"import{loadUsers}from\"./loadUsers\";export var addUser=function addUser(_ref){var userId=_ref.userId,email=_ref.email,role=_ref.role,name=_ref.name,phone=_ref.phone,pass=_ref.pass;return function(dispatch){console.log(123);var options={method:\"POST\",headers:{\"Content-Type\":\"application/json;charset=utf-8\"},body:JSON.stringify({user:\"insert into peoples(pid,name,email,phone,pass,idaccess) values(\".concat(userId,\",'\").concat(name,\"','\").concat(email,\"','\").concat(phone,\"','\").concat(pass,\"',\").concat(role,\");\")})};fetch(\"http://localhost:4000/addUser\",options).then(function(res){return res.text();}).then(function(data){return dispatch(loadUsers({userId:localStorage.userId/1}));}).catch(function(err){return console.log(err);});};};","map":{"version":3,"names":["loadUsers","addUser","userId","email","role","name","phone","pass","dispatch","console","log","options","method","headers","body","JSON","stringify","user","fetch","then","res","text","data","localStorage","catch","err"],"sources":["C:/Development/11312/client/src/store/Users/Thunks/addUser.js"],"sourcesContent":["import { loadUsers } from \"./loadUsers\";\r\n\r\nexport const addUser = ({ userId, email, role, name, phone, pass }) => (dispatch) => {\r\n  console.log(123)\r\n\r\n    const options = {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=utf-8\",\r\n      },\r\n      body: JSON.stringify({\r\n        user: `insert into peoples(pid,name,email,phone,pass,idaccess) values(${userId},'${name}','${email}','${phone}','${pass}',${role});`,\r\n      }),\r\n    };\r\n\r\n    fetch(\"http://localhost:4000/addUser\", options)\r\n      .then((res) => res.text())\r\n      .then((data) => dispatch(loadUsers({ userId: localStorage.userId/1 })))\r\n      .catch((err) => console.log(err));\r\n};\r\n"],"mappings":"AAAA,OAASA,SAAS,KAAQ,aAAa,CAEvC,MAAO,IAAMC,QAAO,CAAG,QAAVA,QAAO,UAAMC,OAAM,MAANA,MAAM,CAAEC,KAAK,MAALA,KAAK,CAAEC,IAAI,MAAJA,IAAI,CAAEC,IAAI,MAAJA,IAAI,CAAEC,KAAK,MAALA,KAAK,CAAEC,IAAI,MAAJA,IAAI,OAAO,UAACC,QAAQ,CAAK,CACnFC,OAAO,CAACC,GAAG,CAAC,GAAG,CAAC,CAEd,GAAMC,QAAO,CAAG,CACdC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,gCAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBC,IAAI,0EAAoEf,MAAM,cAAKG,IAAI,eAAMF,KAAK,eAAMG,KAAK,eAAMC,IAAI,cAAKH,IAAI,MAClI,CAAC,CACH,CAAC,CAEDc,KAAK,CAAC,+BAA+B,CAAEP,OAAO,CAAC,CAC5CQ,IAAI,CAAC,SAACC,GAAG,QAAKA,IAAG,CAACC,IAAI,EAAE,GAAC,CACzBF,IAAI,CAAC,SAACG,IAAI,QAAKd,SAAQ,CAACR,SAAS,CAAC,CAAEE,MAAM,CAAEqB,YAAY,CAACrB,MAAM,CAAC,CAAE,CAAC,CAAC,CAAC,GAAC,CACtEsB,KAAK,CAAC,SAACC,GAAG,QAAKhB,QAAO,CAACC,GAAG,CAACe,GAAG,CAAC,GAAC,CACvC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}